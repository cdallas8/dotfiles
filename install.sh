####################################################################################################
# Set archive directory
####################################################################################################

archDir="$HOME/.archive"
mkdir -p "${archDir}"

####################################################################################################
# Create log directory
####################################################################################################

echo "Ensuring log directory exists..."
logDir="${archDir}/log"
mkdir -p "$logDir"

####################################################################################################
# Link archive to current working directory
####################################################################################################

echo "Linking archive directory..."
ln -svf "$(realpath .)" "${archDir}"

####################################################################################################
# Run install scripts
####################################################################################################

in_silico="${archDir}/install"
run_install "${in_silico}/brew.sh"
run_install "${in_silico}/go.sh"
run_install "${in_silico}/julia.sh"
run_install "${in_silico}/R.sh"
run_install "${in_silico}/rust.sh"

####################################################################################################
# Wait for background jobs
####################################################################################################

wait
echo "All installation tasks completed."

####################################################################################################
